global.CONFIG = {};

var fs = require('fs'), xml2js = require('xml2js');
var xmlParse = require('xml-parser');

var constant = require('define-constant')(global.CONFIG);
var appconfig = function() {
}

appconfig.constant = [];

appconfig.load = function() {
};
var parser = new xml2js.Parser();
var obj = appconfig;

console.log('loading config');

var data = fs.readFileSync(__dirname + '/../../conf/conf.xml', 'utf8');

data = xmlParse(data);
data = data.root.children;

for ( var i in data) {
	appconfig.constant[data[i].name] = data[i].content;
}

console.log(obj.constant);

console.log("constants created");

console.log('Done');

module.exports = appconfig;
